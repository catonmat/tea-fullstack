{"ast":null,"code":"export var FETCH_POSTS = 'FETCH_POSTS';\nexport var FETCH_POST = 'FETCH_POST';\nexport var POST_CREATED = 'POST_CREATED';\nvar ROOT_URL = 'http://reduxblog.herokuapp.com/api/posts';\nvar API_KEY = 'LEWAGON-BLOG';\nexport function fetchPosts() {\n  var promise = fetch(\"\".concat(ROOT_URL, \"?key=\").concat(API_KEY)).then(function (response) {\n    return response.json();\n  });\n  return {\n    type: FETCH_POSTS,\n    payload: promise\n  };\n}\nexport function fetchPost(id) {\n  var promise = fetch(\"\".concat(ROOT_URL, \"/\").concat(id, \"?key=\").concat(API_KEY)).then(function (response) {\n    return response.json();\n  });\n  return {\n    type: FETCH_POST,\n    payload: promise\n  };\n}\nexport function createPost(body, callback) {\n  var request = fetch(\"\".concat(ROOT_URL, \"?key=\").concat(API_KEY), {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(body)\n  }).then(function (response) {\n    return response.json();\n  }).then(function () {\n    return callback();\n  });\n  return {\n    type: POST_CREATED,\n    payload: request\n  };\n}","map":{"version":3,"sources":["/Users/richardjarram/code/catonmat/react-redux-challenges/05-React-in-Rails/admin-blog/app/javascript/blog/src/actions/index.js"],"names":["FETCH_POSTS","FETCH_POST","POST_CREATED","ROOT_URL","API_KEY","fetchPosts","promise","fetch","then","response","json","type","payload","fetchPost","id","createPost","body","callback","request","method","headers","JSON","stringify"],"mappings":"AAAA,OAAO,IAAMA,WAAW,GAAG,aAApB;AACP,OAAO,IAAMC,UAAU,GAAG,YAAnB;AACP,OAAO,IAAMC,YAAY,GAAG,cAArB;AACP,IAAMC,QAAQ,GAAG,0CAAjB;AACA,IAAMC,OAAO,GAAG,cAAhB;AAEA,OAAO,SAASC,UAAT,GAAsB;AAC3B,MAAMC,OAAO,GAAGC,KAAK,WAAIJ,QAAJ,kBAAoBC,OAApB,EAAL,CAAoCI,IAApC,CAAyC,UAAAC,QAAQ;AAAA,WAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,GAAjD,CAAhB;AAEA,SAAO;AACLC,IAAAA,IAAI,EAAEX,WADD;AAELY,IAAAA,OAAO,EAAEN;AAFJ,GAAP;AAID;AAED,OAAO,SAASO,SAAT,CAAmBC,EAAnB,EAAuB;AAC5B,MAAMR,OAAO,GAAGC,KAAK,WAAIJ,QAAJ,cAAgBW,EAAhB,kBAA0BV,OAA1B,EAAL,CAA0CI,IAA1C,CAA+C,UAAAC,QAAQ;AAAA,WAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,GAAvD,CAAhB;AAEA,SAAO;AACLC,IAAAA,IAAI,EAAEV,UADD;AAELW,IAAAA,OAAO,EAAEN;AAFJ,GAAP;AAID;AAED,OAAO,SAASS,UAAT,CAAoBC,IAApB,EAA0BC,QAA1B,EAAoC;AACzC,MAAMC,OAAO,GAAGX,KAAK,WAAIJ,QAAJ,kBAAoBC,OAApB,GAA+B;AAClDe,IAAAA,MAAM,EAAE,MAD0C;AAElDC,IAAAA,OAAO,EAAE;AACP,gBAAU,kBADH;AAEP,sBAAgB;AAFT,KAFyC;AAMlDJ,IAAAA,IAAI,EAAEK,IAAI,CAACC,SAAL,CAAeN,IAAf;AAN4C,GAA/B,CAAL,CAObR,IAPa,CAOR,UAAAC,QAAQ;AAAA,WAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,GAPA,EAQbF,IARa,CAQR;AAAA,WAAMS,QAAQ,EAAd;AAAA,GARQ,CAAhB;AAUA,SAAO;AACLN,IAAAA,IAAI,EAAET,YADD;AAELU,IAAAA,OAAO,EAAEM;AAFJ,GAAP;AAID","sourcesContent":["export const FETCH_POSTS = 'FETCH_POSTS';\nexport const FETCH_POST = 'FETCH_POST';\nexport const POST_CREATED = 'POST_CREATED';\nconst ROOT_URL = 'http://reduxblog.herokuapp.com/api/posts';\nconst API_KEY = 'LEWAGON-BLOG';\n\nexport function fetchPosts() {\n  const promise = fetch(`${ROOT_URL}?key=${API_KEY}`).then(response => response.json());\n\n  return {\n    type: FETCH_POSTS,\n    payload: promise\n  };\n}\n\nexport function fetchPost(id) {\n  const promise = fetch(`${ROOT_URL}/${id}?key=${API_KEY}`).then(response => response.json());\n\n  return {\n    type: FETCH_POST,\n    payload: promise\n  };\n}\n\nexport function createPost(body, callback) {\n  const request = fetch(`${ROOT_URL}?key=${API_KEY}`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(body)\n  }).then(response => response.json())\n    .then(() => callback());\n\n  return {\n    type: POST_CREATED,\n    payload: request\n  };\n}\n"]},"metadata":{},"sourceType":"module"}